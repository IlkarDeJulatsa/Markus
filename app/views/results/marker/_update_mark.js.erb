<% if result_mark.markable_type == 'RubricCriterion' %>
	select_mark(<%= escape_javascript(result_mark.id).html_safe %>,<%= escape_javascript(mark_value).html_safe %>);
  <% if !result_mark.mark.nil? %>
		jQuery("#<%= escape_javascript(mark_criterion_title_#{result_mark.id.to_s}_mark).html_safe %>").html("<%= escape_javascript(<b> #{result_mark.mark}#{':'}  #{result_mark.markable["level_" + result_mark.mark.to_i.to_s + "_name"]}</b> #{result_mark.markable["level_" + result_mark.mark.to_i.to_s + "_description"]}).html_safe %>");
	<% else %>
		jQuery("#<%= escape_javascript(mark_criterion_title_#{result_mark.id.to_s}_mark).html_safe %>").html("<%= escape_javascript(nil).html_safe %>");
	<% end %>
	jQuery("#<%= escape_javascript(mark_#{result_mark.id.to_s}_summary_mark_after_weight).html_safe %>").html("<%= escape_javascript(result_mark.get_mark).html_safe %>");
<% end %>
<% if result_mark.markable_type == 'FlexibleCriterion' %>
	jQuery("#<%= escape_javascript(mark_verify_result_#{result_mark.id.to_s}).html_safe %>").hide();
<% end %>

jQuery("#<%= escape_javascript(mark_#{result_mark.id.to_s}_summary_mark).html_safe %>").html("<%= escape_javascript(result_mark.mark).html_safe %>");
jQuery("#<%= escape_javascript(current_subtotal_div).html_safe %>").html("<%= escape_javascript(result_mark.result.get_subtotal).html_safe %>");
jQuery("#marking_state").val(<%= escape_javascript(Result::MARKING_STATES[:partial]).html_safe %>);
update_total_mark(<%= escape_javascript(result_mark.result.total_mark).html_safe %>);
